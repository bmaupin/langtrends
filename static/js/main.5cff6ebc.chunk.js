(this.webpackJsonplangtrends=this.webpackJsonplangtrends||[]).push([[0],{176:function(t,e,n){},179:function(t,e,n){},183:function(t,e,n){"use strict";n.r(e);var r,a=n(1),c=n(47),u=n.n(c),i=n(16),s=n(13),o=n(29),l=n(27),h=n(31),f=n(201),p=n(205),b=n(204),j=n(8),v=n.n(j),d=n(15),O=n(131),g=n.n(O),m=n(35),x=n(50),y=n(43),k="https://bmaupin.github.io/langtrends-data/data",w=function(){function t(){Object(i.a)(this,t)}return Object(s.a)(t,null,[{key:"buildDates",value:function(){var e=Object(d.a)(v.a.mark((function e(n){var r,a,c,u,i,s=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:y.numberOfDates,a=[],e.next=4,t.getLatestDateFromApi();case 4:return c=e.sent,e.next=7,t.getEarliestDateFromApi();case 7:u=e.sent,i=0;case 9:if(!(i<r)){e.next=17;break}if(!(c<u)){e.next=12;break}return e.abrupt("break",17);case 12:a.push(c),c=t.subtractMonthsUTC(c,n);case 14:i++,e.next=9;break;case 17:return a.reverse(),e.abrupt("return",a.map((function(t){return t.toISOString().slice(0,10)})));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestDateFromApi",value:function(){var e=Object(d.a)(v.a.mark((function e(){var n,r,a,c,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getScoresFromApi();case 2:n=e.sent,r="",a=Object(x.a)(n);try{for(a.s();!(c=a.n()).done;)(u=c.value).date>r&&(r=u.date)}catch(i){a.e(i)}finally{a.f()}return e.abrupt("return",new Date(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getScoresFromApi",value:function(){var t=Object(d.a)(v.a.mark((function t(e){var n,r,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=encodeURI("".concat(k,"/scores.json")),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:if(a=t.sent,!e){t.next=9;break}return t.abrupt("return",a.filter((function(t){return e.includes(t.date)})));case 9:return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getEarliestDateFromApi",value:function(){var e=Object(d.a)(v.a.mark((function e(){var n,r,a,c,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getScoresFromApi();case 2:n=e.sent,r="",a=Object(x.a)(n);try{for(a.s();!(c=a.n()).done;)(u=c.value).date<r&&(r=u.date)}catch(i){a.e(i)}finally{a.f()}return e.abrupt("return",new Date(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"subtractMonthsUTC",value:function(t,e){var n=new Date(t);return n.setUTCMonth(n.getUTCMonth()-e),n}},{key:"getScores",value:function(){var t=Object(d.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getScoresWithLanguages(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getScoresWithLanguages",value:function(){var t=Object(d.a)(v.a.mark((function t(e){var n,r,a,c,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLanguagesFromApi();case 2:return n=t.sent,t.next=5,this.getScoresFromApi(e);case 5:r=t.sent,a=Object(x.a)(r);try{for(u=function(){var t=c.value;t.language=n.find((function(e){return e.id===t.languageId}))},a.s();!(c=a.n()).done;)u()}catch(i){a.e(i)}finally{a.f()}return t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getLanguagesFromApi",value:function(){var t=Object(d.a)(v.a.mark((function t(){var e,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=encodeURI("".concat(k,"/languages.json")),t.next=3,fetch(e);case 3:return n=t.sent,t.abrupt("return",n.json());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),S=n(43),T=function(){function t(e){Object(i.a)(this,t),this.dates=void 0,this.interval=void 0,this.interval=e}return Object(s.a)(t,[{key:"getDates",value:function(){var t=Object(d.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDatesForCalculations();case 2:return t.abrupt("return",t.sent.slice(1));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getDatesForCalculations",value:function(){var t=Object(d.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.dates){t.next=4;break}return t.next=3,w.buildDates(this.interval,S.numberOfDates+1);case 3:this.dates=t.sent;case 4:return t.abrupt("return",this.dates);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getSeries",value:function(){var e=Object(d.a)(v.a.mark((function e(){var n,r,a,c,u,i,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDatesForCalculations();case 2:return n=e.sent,e.next=5,w.getScores(n);case 5:return r=e.sent,a=t.organizeScoresByDate(r),c=this.getCustomScoresByDate(a,n),e.next=10,this.getDates();case 10:return u=e.sent,e.next=13,t.calculateTopScores(c,u);case 13:return i=e.sent,e.next=16,this.formatDataForChart(i,u);case 16:return s=e.sent,e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCustomScoresByDate",value:function(e,n){for(var r={},a=1;a<n.length;a++){var c=n[a],u=n[a-1];for(var i in r[c]={},e[c])if(e[c][i]>S.minimumScore){var s=this.calculateCustomScore(e[u][i],e[c][i]);s=t.convertNonFiniteNumber(s),r[c][i]=s}}return r}},{key:"formatDataForChart",value:function(){var e=Object(d.a)(v.a.mark((function e(n,r){var a,c,u,i,s,o,l,h,f,p,b,j,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],c=t.getAllTopLanguages(n),u=Object(x.a)(c);try{for(u.s();!(i=u.n()).done;)s=i.value,a.push({title:s,data:[]})}catch(v){u.e(v)}finally{u.f()}for(o=0;o<r.length;o++){l=r[o],h=0,f=Object(x.a)(c);try{for(f.s();!(p=f.n()).done;)b=p.value,j=0,d=0,n[l].hasOwnProperty(b)&&(j=n[l][b],d=Object.keys(n[l]).indexOf(b)+1),a[h].data.push({x:o,y:d,hintTitle:b,hintValue:this.formatHintValue(j)}),h++}catch(v){f.e(v)}finally{f.f()}}return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"organizeScoresByDate",value:function(t){for(var e={},n=0;n<t.length;n++){var r=t[n].date,a=t[n].language.name,c=t[n].points;e.hasOwnProperty(r)||(e[r]={}),e[r][a]=c}return e}},{key:"convertNonFiniteNumber",value:function(t){return Number.isFinite(t)?t:0}},{key:"calculateTopScores",value:function(){var t=Object(d.a)(v.a.mark((function t(e,n){var r,a,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r={},a=function(t){var a=n[t];r[a]={};for(var c=Object.keys(e[a]).sort((function(t,n){return e[a][n]-e[a][t]})),u=0;u<S.numberOfLanguages;u++){var i=c[u];r[a][i]=e[a][i]}},c=0;c<n.length;c++)a(c);return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getAllTopLanguages",value:function(t){var e=[];for(var n in t)for(var r in t[n])e.includes(r)||e.push(r);return e}}]),t}(),C=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"calculateCustomScore",value:function(t,e){return e}},{key:"formatHintValue",value:function(t){return String(t)}}]),n}(T),F=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"calculateCustomScore",value:function(t,e){return e/t*100}},{key:"formatHintValue",value:function(t){return"".concat(Math.round(t),"% growth")}}]),n}(T),_=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"calculateCustomScore",value:function(t,e){return e-t}},{key:"formatHintValue",value:function(t){return"+".concat(t)}}]),n}(T);!function(t){t.FastestGrowth="FASTEST_GROWTH",t.MostGrowth="MOST_GROWTH",t.TopLanguages="TOP_LANGUAGES"}(r||(r={}));var I=function(){function t(){Object(i.a)(this,t)}return Object(s.a)(t,null,[{key:"fromType",value:function(){var t=Object(d.a)(v.a.mark((function t(e,n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===r.FastestGrowth?3:t.t0===r.MostGrowth?5:t.t0===r.TopLanguages?7:9;break;case 3:return a=new F(n),t.abrupt("break",10);case 5:return a=new _(n),t.abrupt("break",10);case 7:return a=new C(n),t.abrupt("break",10);case 9:throw new Error("Unknown chart type: ".concat(e));case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}();function D(t,e){this._context=t,this._compression=e}D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:!function(t,e,n){t._context.bezierCurveTo(t._prevX+(e-t._prevX)*t._compression,t._prevY,e-(e-t._prevX)*t._compression,n,e,n)}(this,t,e)}this._prevX=t,this._prevY=e}};var L=function t(e){function n(t){return new D(t,e)}return n.compression=function(e){return t(e)},n}(.75),M=(n(176),n(177),n(3));function A(t){var e=Object(a.useState)([]),n=Object(h.a)(e,2),r=n[0],c=n[1],u=Object(a.useState)([]),i=Object(h.a)(u,2),s=i[0],o=i[1],l=Object(a.useState)(null),f=Object(h.a)(l,2),p=f[0],b=f[1],j=Object(a.useState)(null),O=Object(h.a)(j,2),x=O[0],y=O[1],k=Object(a.useState)([]),w=Object(h.a)(k,2),T=w[0],C=w[1],F=Object(a.useState)([]),_=Object(h.a)(F,2),D=_[0],A=_[1];Object(a.useEffect)((function(){var e=function(){var e=Object(d.a)(v.a.mark((function e(){var n,r,a,u,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.fromType(t.chartType,t.intervalInMonths);case 2:return n=e.sent,e.next=5,n.getDates();case 5:return r=e.sent,e.next=8,n.getSeries();case 8:a=e.sent,u=N(a),i=G(a),c(a),o(r),C(u),A(i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.chartType,t.intervalInMonths]);var N=function(t){return t.map((function(t){return t.data[0]})).sort((function(t,e){return e.y-t.y})).map((function(t){return t&&t.hintTitle}))},G=function(t){return t.map((function(t){return t.data[t.data.length-1]})).sort((function(t,e){return e.y-t.y})).map((function(t){return t&&t.hintTitle}))},E=function(){b(null),y(null)},H=function(t){return t.slice(0,7)},U=L.compression(.5);return Object(M.jsx)("div",{className:"chart-container",children:Object(M.jsx)("div",{className:"chart-content",children:Object(M.jsxs)(m.a,{height:49*S.numberOfLanguages,margin:{left:80,right:80},yDomain:[S.numberOfLanguages,1],children:[Object(M.jsx)(m.e,{}),Object(M.jsx)(m.c,{}),Object(M.jsx)(m.f,{tickFormat:function(t,e){return H(s[e])},tickTotal:s.length}),Object(M.jsx)(m.g,{orientation:"left",tickFormat:function(t,e){return T[e]}}),Object(M.jsx)(m.g,{orientation:"right",tickFormat:function(t,e){return D[e]}}),r.map((function(t,e){return Object(M.jsx)(m.d,{curve:U,getNull:function(t){return 0!==t.y},color:g.a.get(t.title,!0).color,data:t.data,opacity:null===x||x===e?1:.5,onValueMouseOut:E,onValueMouseOver:function(t){return n=e,b(t),void y(n);var n},strokeWidth:null!==x&&x===e?4:void 0,lineStyle:{pointerEvents:"none"}},t.title)})),p&&Object(M.jsx)(m.b,{format:function(t){return[{title:t.hintTitle,value:t.hintValue}]},value:p})]})})})}var N=n(203);function G(t){var e=t.intervalInMonths;return Object(M.jsxs)(N.a,{secondary:!0,children:[Object(M.jsx)(N.a.Item,{name:"monthly",value:"1",active:1===e,onClick:t.handleItemClick}),Object(M.jsx)(N.a.Item,{name:"quarterly",value:"3",active:3===e,onClick:t.handleItemClick}),Object(M.jsx)(N.a.Item,{name:"yearly",value:"12",active:12===e,onClick:t.handleItemClick})]})}function E(t){var e=t.chartType;return Object(M.jsxs)(N.a,{secondary:!0,children:[Object(M.jsx)(N.a.Item,{name:r.FastestGrowth,active:e===r.FastestGrowth,onClick:t.handleItemClick,children:"Fastest growth"}),Object(M.jsx)(N.a.Item,{name:r.MostGrowth,active:e===r.MostGrowth,onClick:t.handleItemClick,children:"Most growth"}),Object(M.jsx)(N.a.Item,{name:r.TopLanguages,active:e===r.TopLanguages,onClick:t.handleItemClick,children:"Top"})]})}n(179);function H(){var t=Object(a.useState)(r.MostGrowth),e=Object(h.a)(t,2),n=e[0],c=e[1],u=Object(a.useState)(3),i=Object(h.a)(u,2),s=i[0],o=i[1];return Object(M.jsx)(f.a,{children:Object(M.jsx)(p.a,{centered:!0,padded:!0,children:Object(M.jsx)(b.a.Group,{className:"chart-group",children:Object(M.jsxs)(b.a.Content,{children:[Object(M.jsx)(p.a,{centered:!0,padded:!0,children:Object(M.jsx)(E,{chartType:n,handleItemClick:function(t,e){var n=e.name;n&&c(n)}})}),Object(M.jsx)(A,{chartType:n,intervalInMonths:s}),Object(M.jsx)(p.a,{centered:!0,padded:!0,children:Object(M.jsx)(G,{handleItemClick:function(t,e){var n=e.value;o(Number(n))},intervalInMonths:s})})]})})})})}var U=n(202),V=n(111),z=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(M.jsx)(N.a,{attached:!0,borderless:!0,inverted:!0,children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)(N.a.Item,{fitted:"horizontally",header:!0,children:"Programming language trends"}),Object(M.jsxs)(N.a.Menu,{position:"right",children:[Object(M.jsx)(U.a,{on:"click",trigger:Object(M.jsx)(N.a.Item,{icon:!0,children:Object(M.jsx)(V.a,{name:"help circle",size:"big"})}),children:Object(M.jsxs)(U.a.Content,{children:[Object(M.jsx)("h3",{children:"How the data is calculated"}),Object(M.jsx)("p",{children:"First, a base numerical value for a given language and date is calculated by adding the total number of GitHub repositories to the total number of Stack Overflow tags for that language up to that day."}),Object(M.jsx)("h4",{children:"Fastest growth"}),Object(M.jsxs)("p",{children:["Languages with the highest percentage change compared to the previous date. Note that scores under a"," ",Object(M.jsx)("a",{href:"https://github.com/bmaupin/langtrends/blob/main/src/settings.json#L2",children:"certain threshold"})," ","are filtered out to reduce"," ",Object(M.jsx)("a",{href:"https://xkcd.com/1102/",children:"dubious claims"}),"."]}),Object(M.jsx)("h4",{children:"Most growth"}),Object(M.jsx)("p",{children:"Languages with the highest numerical change compared to the previous date."}),Object(M.jsx)("h4",{children:"Top"}),Object(M.jsx)("p",{children:"Languages with the total highest value for a particular given date."})]})}),Object(M.jsx)(N.a.Item,{href:"https://github.com/bmaupin/langtrends",icon:!0,children:Object(M.jsx)(V.a,{name:"github",size:"big"})})]})]})})}}]),n}(a.Component),B=function(t){Object(o.a)(n,t);var e=Object(l.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsx)(z,{}),Object(M.jsx)(H,{})]})}}]),n}(a.Component),P=B;u.a.render(Object(M.jsx)(P,{}),document.getElementById("root"))},43:function(t){t.exports=JSON.parse('{"minimumScore":1000,"numberOfDates":12,"numberOfLanguages":10}')}},[[183,1,2]]]);
//# sourceMappingURL=main.5cff6ebc.chunk.js.map